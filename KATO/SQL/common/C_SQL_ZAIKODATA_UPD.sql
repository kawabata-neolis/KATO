MERGE INTO [KATO].[dbo].在庫一覧データ AS A
USING
    (
        SELECT
            @0 AS 営業所コード
           ,@1 AS 営業所名
           ,@2 AS 商品コード
           ,@3 AS 大分類コード
           ,@4 AS 大分類名
           ,@5 AS 棚番
           ,@6 AS メーカーコード
           ,@7 AS メーカー名
           ,@8 AS 品名
           ,@9 AS 定価
           ,@10 AS 仕入単価
           ,@11 AS 直近仕入単価
           ,@12 AS 評価単価
           ,@13 AS 現在庫数
           ,@14 AS 在庫金額仕入単価
           ,@15 AS 在庫金額直近仕入単価
           ,@16 AS 在庫金額評価単価
           ,@17 AS 在庫管理区分
    ) AS B
ON
    (
        A.営業所コード = B.営業所コード
    AND A.商品コード = B.商品コード
    )
WHEN MATCHED THEN
    UPDATE
    SET
        営業所名 = B.営業所名
       ,大分類コード = B.大分類コード
       ,大分類名 = B.大分類名
       ,棚番 = B.棚番
       ,メーカーコード = B.メーカーコード
       ,メーカー名 = B.メーカー名
       ,品名 = B.品名
       ,定価 = B.定価
       ,仕入単価 = B.仕入単価
       ,直近仕入単価 = B.直近仕入単価
       ,評価単価 = B.評価単価
       ,現在庫数 = B.現在庫数
       ,在庫金額仕入単価 = B.在庫金額仕入単価
       ,在庫金額直近仕入単価 = B.在庫金額直近仕入単価
       ,在庫金額評価単価 = B.在庫金額評価単価
       ,在庫管理区分 = B.在庫管理区分

WHEN NOT MATCHED THEN
    INSERT(
        営業所コード
       ,営業所名
       ,商品コード
       ,大分類コード
       ,大分類名
       ,棚番
       ,メーカーコード
       ,メーカー名
       ,品名
       ,定価
       ,仕入単価
       ,直近仕入単価
       ,評価単価
       ,現在庫数
       ,在庫金額仕入単価
       ,在庫金額直近仕入単価
       ,在庫金額評価単価
       ,在庫管理区分
    )
    VALUES
    (
	    B.営業所コード
       ,B.営業所名
       ,B.商品コード
       ,B.大分類コード
       ,B.大分類名
       ,B.棚番
       ,B.メーカーコード
       ,B.メーカー名
       ,B.品名
       ,B.定価
       ,B.仕入単価
       ,B.直近仕入単価
       ,B.評価単価
       ,B.現在庫数
       ,B.在庫金額仕入単価
       ,B.在庫金額直近仕入単価
       ,B.在庫金額評価単価
       ,B.在庫管理区分
    )
;